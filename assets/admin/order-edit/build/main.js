(()=>{"use strict";var e,t={389:()=>{jQuery(document).ready((e=>{!function(){const t=e("#default-tab"),a=e("#hezarfen-lite");0===t.length&&a.removeClass("hidden").show()}(),function(){const t=e("#hezarfen-feedback-request");!function(){const e=localStorage.getItem("hezarfen_feedback_dismissed"),t=localStorage.getItem("hezarfen_review_clicked");return!e&&!t}()?t.hide():(setTimeout((()=>{t.fadeIn(300)}),1e3),e("#hezarfen-review-positive").on("click",(function(){var a;localStorage.setItem("hezarfen_review_clicked","true"),a=hezarfen_mst_backend.thank_you_message,e("#hezarfen-feedback-request").html(`\n      <div class="flex items-center space-x-3">\n        <div class="flex-shrink-0">\n          <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n          </svg>\n        </div>\n        <div class="flex-1">\n          <p class="text-sm text-green-700 font-medium">\n            ${a}\n          </p>\n        </div>\n      </div>\n    `),setTimeout((()=>{t.fadeOut(300)}),3e3)})),e("#hezarfen-feedback-dismiss").on("click",(function(){localStorage.setItem("hezarfen_feedback_dismissed","true"),t.fadeOut(300)})),e("#hezarfen-feedback-close").on("click",(function(){t.fadeOut(300)})))}(),e("#hezarfen-lite .h-expand").click((function(){var t=e("#hezarfen-lite #shipping-companies"),a=e(this);const n=e(this).find("span");a.find("svg").toggleClass("rotate-180"),t.hasClass("max-h-24")?(t.removeClass("max-h-24").addClass("max-h-[1000px]"),n.text(a.data("show-less-label"))):(t.removeClass("max-h-[1000px]").addClass("max-h-24"),n.text(a.data("show-more-label")))}));const t=e("#hezarfen-lite");if(t.find(".remove-shipment-data").on("click",(function(){let a=e(this).parents("tr");!function(t,a){const n=t.find("#modal-body"),o=n.find(".hez-modal-content");n.find(".hez-modal-confirm").prop("disabled",!1).text(hezarfen_mst_backend.modal_btn_delete_text),n.removeClass("hidden"),setTimeout((()=>{n.addClass("show"),o.removeClass("scale-95 opacity-0").addClass("scale-100 opacity-100")}),10);const s=n.find('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=s.first(),i=s.last();function d(){o.removeClass("scale-100 opacity-100").addClass("scale-95 opacity-0"),setTimeout((()=>{n.removeClass("show").addClass("hidden"),n.off("keydown")}),300)}r.focus(),n.on("keydown",(function(e){"Tab"===e.key?e.shiftKey?document.activeElement===r[0]&&(e.preventDefault(),i.focus()):document.activeElement===i[0]&&(e.preventDefault(),r.focus()):"Escape"===e.key&&d()})),n.find(".hez-modal-confirm").off("click").on("click",(function(){const n=e(this),o=n.text();n.prop("disabled",!0).text(hezarfen_mst_backend.removing_text),e.post(ajaxurl,{action:hezarfen_mst_backend.remove_shipment_data_action,_wpnonce:hezarfen_mst_backend.remove_shipment_data_nonce,order_id:e("input#post_ID").val(),meta_id:a.data("meta_id")},(function(){a.fadeOut(300,(function(){e(this).remove(),0===t.find("tbody tr").length&&location.reload()})),d()})).fail((function(){n.prop("disabled",!1).text(o),d(),alert(hezarfen_mst_backend.error_removing_shipment)}))})),n.find(".hez-modal-cancel, .hez-modal-close").off("click").on("click",(function(){d()})),n.on("click",(function(e){e.target===n[0]&&d()}))}(t,a)})),t.find('input[name="courier-company-select"]').on("change",(function(){const t=e(this).val(),a=e("#standard-tracking-fields"),n=e("#hepsijet-integration-fields"),o=e("#add-to-tracking-list"),s=e("#create-hepsijet-shipment");"hepsijet-entegrasyon"===t?(a.addClass("hidden"),n.removeClass("hidden"),o.addClass("hidden"),s.length>0&&s.removeClass("hidden"),e("#hepsijet-delivery-slot-container").addClass("hidden"),e("#hepsijet-return-date-container").addClass("hidden")):(a.removeClass("hidden"),n.addClass("hidden"),o.removeClass("hidden"),s.length>0&&s.addClass("hidden"))})),e("#courier-company-select-hepsijet-entegrasyon").is(":checked")){const t=e("#standard-tracking-fields"),a=e("#hepsijet-integration-fields"),n=e("#add-to-tracking-list"),o=e("#create-hepsijet-shipment");t.addClass("hidden"),a.removeClass("hidden"),n.addClass("hidden"),o.length>0&&o.removeClass("hidden")}function a(){const t=e("#hepsijet-details-modal");t.find(".hez-modal-content").removeClass("scale-100 opacity-100").addClass("scale-95 opacity-0"),setTimeout((()=>{t.addClass("hidden")}),300)}function n(){const t=e("#hepsijet-barcode-modal");t.find(".hez-modal-content").removeClass("scale-100 opacity-100").addClass("scale-95 opacity-0"),setTimeout((()=>{t.addClass("hidden"),e("#barcode-pdf-frame").attr("src",""),e("#hepsijet-barcode-content").html('\n        <div class="transform -rotate-90 origin-center">\n          <iframe id="barcode-pdf-frame" style="width: 600px; height: 400px; border: 1px solid #ddd;" src=""></iframe>\n        </div>\n      ')}),300)}function o(e,t){if(Array.isArray(e)&&e.length>0)try{let a=e[0];a.startsWith("data:image/")||(a="data:image/jpeg;base64,"+a),t.parent().html(`\n          <div class="transform -rotate-90 origin-center flex justify-center">\n            <img id="barcode-image" src="${a}" \n                 style="max-width: 600px; max-height: 400px; border: 1px solid #ddd;" \n                 alt="Hepsijet Barcode Label" />\n          </div>\n        `),console.log("Barcode image displayed as fallback")}catch(e){console.error("Image display error:",e),t.parent().html('<p class="text-red-600 text-center">Barcode yüklenemedi: '+e.message+"</p>")}else console.log("No barcode data available either"),t.parent().html('<p class="text-red-600 text-center">PDF ve barcode verisi bulunamadı</p>')}function s(){var t=new Date("May 3, 2024 23:59:00").getTime()-(new Date).getTime(),a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);e("#days").text(a),e("#hours").text(n),e("#minutes").text(o),e("#seconds").text(s),t<0&&(clearInterval(r),e("#countdown").html(hezarfen_mst_backend.campaign_ended))}t.find("#hepsijet-delivery-type").on("change",(function(){const t=e(this).val(),a=e("#hepsijet-delivery-slot-container"),n=e("#hepsijet-return-date-container");a.addClass("hidden"),n.addClass("hidden"),"sameday"===t||"nextday"===t?a.removeClass("hidden"):"returned"===t&&(n.removeClass("hidden"),function(){const t=e("#hepsijet-return-date");t.html(`<option value="">${hezarfen_mst_backend.loading_available_dates}</option>`),e("#create-hepsijet-shipment").data("order_id");const a=e("#_shipping_city").val()||"Istanbul";let n="";const o=e("#_shipping_state");if(o.length){const e=o.find("option:selected");n=e.length&&e.text()?e.text():o.val()}const s=(new Date).toISOString().split("T")[0],r=new Date(Date.now()+864e6).toISOString().split("T")[0],i={action:"hezarfen_mst_get_return_dates",_wpnonce:hezarfen_mst_backend.get_return_dates_nonce,start_date:s,end_date:r,city:n,district:a};e.post(ajaxurl,i,(function(a){if(console.log("Return dates API response:",a),a.success&&a.data)if(console.log("Response data:",a.data),a.data.dates&&a.data.dates.length>0){let e='<option value="">Select return date</option>';a.data.dates.forEach((function(t){e+=`<option value="${t}">${t}</option>`})),t.html(e),a.data.message&&console.log("Return dates loaded:",a.data.message)}else{const n=a.data.message||"No available return dates";console.log("Setting message in dropdown:",n),function(t,a="info"){e(".hez-notification").remove();const n=e(`\n      <div class="hez-notification fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md transform transition-all duration-300 translate-x-full">\n        <div class="flex items-center">\n          <div class="flex-shrink-0">\n            ${"success"===a?'<svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>':"error"===a?'<svg class="w-5 h-5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>':'<svg class="w-5 h-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>'}\n          </div>\n          <div class="ml-3">\n            <p class="text-sm font-medium text-gray-900">${t}</p>\n          </div>\n          <div class="ml-auto pl-3">\n            <button class="hez-notification-close inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600">\n              <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">\n                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    `);e("body").append(n),setTimeout((()=>{n.removeClass("translate-x-full")}),100),setTimeout((()=>{n.addClass("translate-x-full"),setTimeout((()=>{n.remove()}),300)}),5e3),n.find(".hez-notification-close").on("click",(function(){n.addClass("translate-x-full"),setTimeout((()=>{n.remove()}),300)}))}(n,"info"),t.html('<option value="">No available return dates</option>'),console.log("No return dates available:",n)}else console.log("Response not successful or missing data:",a),t.html(`<option value="">${hezarfen_mst_backend.error_loading_dates}</option>`)})).fail((function(e,a,n){console.error("Failed to load return dates:",{xhr:e,status:a,error:n}),t.html(`<option value="">${hezarfen_mst_backend.error_loading_dates}</option>`)}))}())})),t.find("#add-to-tracking-list").on("click",(function(){const t=e(this).parents("#hezarfen-lite"),a={action:hezarfen_mst_backend.new_shipment_data_action,_wpnonce:hezarfen_mst_backend.new_shipment_data_nonce,order_id:e(this).data("order_id")};a[hezarfen_mst_backend.new_shipment_courier_html_name]=t.find('input[name="courier-company-select"]:checked').val(),a[hezarfen_mst_backend.new_shipment_tracking_num_html_name]=t.find("#tracking-num-input").val(),e.post(ajaxurl,a,(function(){location.reload()})).fail((function(){}))})),t.find("#create-hepsijet-shipment").on("click",(function(){const t=e(this),a=t.text(),n=e("#hepsijet-package-count").val(),o=e("#hepsijet-desi").val(),s=e("#hepsijet-delivery-type").val(),r=e("#hepsijet-delivery-slot").val(),i=e("#hepsijet-return-date").val();if(!n||!o||n<1||o<.01)return void alert("Lütfen koli adedi ve desi değerlerini doğru giriniz.");if(("sameday"===s||"nextday"===s)&&!r)return void alert("Lütfen teslimat saatini seçiniz.");if("returned"===s&&!i)return void alert("Lütfen iade tarihini seçiniz.");t.prop("disabled",!0).text(hezarfen_mst_backend.creating_shipment_text);const d={action:hezarfen_mst_backend.create_hepsijet_shipment_action,_wpnonce:hezarfen_mst_backend.create_hepsijet_shipment_nonce,order_id:e(this).data("order_id"),package_count:n,desi:o,type:s,delivery_slot:r||"",delivery_date:i||""};e.post(ajaxurl,d,(function(e){e.success?location.reload():alert("Hata: "+(e.data||"Bilinmeyen hata"))})).fail((function(e){const t=e.responseJSON&&e.responseJSON.data?e.responseJSON.data:"Bağlantı hatası";alert("Hata: "+t)})).always((function(){t.prop("disabled",!1).text(a)}))})),e(document).off("click",".check-hepsijet-details").on("click",".check-hepsijet-details",(function(t){t.preventDefault(),t.stopPropagation();const a=e(this).data("delivery_no"),n=e(this).data("order_id"),o=e("#hepsijet-details-modal"),s=e("#hepsijet-details-content");if(!a||!n)return void alert("Missing delivery number or order ID");o.removeClass("hidden"),setTimeout((()=>{o.find(".hez-modal-content").removeClass("scale-95 opacity-0").addClass("scale-100 opacity-100")}),10),s.html(`<p class="text-sm text-gray-600">${hezarfen_mst_backend.loading_shipment_details}</p>`);const r={action:hezarfen_mst_backend.track_hepsijet_shipment_action,_wpnonce:hezarfen_mst_backend.track_hepsijet_shipment_nonce,delivery_no:a};console.log("Tracking request data:",r),e.post(ajaxurl,r,(function(e){if(e.success)s.html(function(e){if(!e||!e.data||!Array.isArray(e.data)||0===e.data.length)return`<div class="bg-yellow-50 border border-yellow-200 rounded p-3"><p class="text-sm text-yellow-600">${hezarfen_mst_backend.no_tracking_information}</p></div>`;const t=e.data[0],a=t.transactions||[];let n='<div class="space-y-4">';return n+='<div class="bg-blue-50 border border-blue-200 p-3 rounded">',n+='<h4 class="font-medium text-blue-900 mb-2">📦 Shipment Information</h4>',n+='<div class="text-sm text-blue-700 space-y-1">',n+='<div><strong>Status:</strong> <span class="px-2 py-1 bg-blue-100 rounded text-xs">'+(t.deliveryStatus||"Unknown")+"</span></div>",n+="<div><strong>Delivery No:</strong> "+(t.customerDeliveryNo||"N/A")+"</div>",t.trackingUrl&&(n+='<div><strong>Tracking URL:</strong> <a href="'+t.trackingUrl+'" target="_blank" class="text-blue-600 underline">Open</a></div>'),n+="</div>",n+="</div>",a.length>0?(n+='<div class="bg-gray-50 border border-gray-200 p-3 rounded mt-6">',n+='<h4 class="font-medium text-gray-900 mb-2">📋 Tracking History</h4>',n+='<div class="space-y-2 max-h-64 overflow-y-auto">',[...a].sort(((e,t)=>{const a=new Date(e.transactionDateTime||0);return new Date(t.transactionDateTime||0)-a})).forEach((function(e,t){n+='<div class="'+(0===t?"bg-green-50 border border-green-200":"bg-white border border-gray-200")+' p-2 rounded text-xs">',n+='<div class="font-medium text-gray-900">'+(e.transaction||"N/A")+"</div>",e.location&&(n+='<div class="text-gray-600">📍 '+e.location+"</div>"),e.transactionDateTime&&(n+='<div class="text-gray-500">🕒 '+e.transactionDateTime+"</div>"),n+="</div>"})),n+="</div>",n+="</div>"):(n+='<div class="bg-gray-50 border border-gray-200 p-3 rounded">',n+='<p class="text-sm text-gray-600">No tracking history available yet</p>',n+="</div>"),n+="</div>",n}(e.data));else{const t=e.data||"Unknown error";s.html('<div class="bg-red-50 border border-red-200 rounded p-3"><p class="text-sm text-red-600"><strong>Error:</strong> '+t+"</p></div>")}})).fail((function(e){const t=e.responseJSON&&e.responseJSON.data?e.responseJSON.data:"Connection error occurred";s.html('<div class="bg-red-50 border border-red-200 rounded p-3"><p class="text-sm text-red-600"><strong>Connection Error:</strong> '+t+"</p></div>")}))})),e(document).off("click",".get-hepsijet-barcode").on("click",".get-hepsijet-barcode",(function(t){t.preventDefault(),t.stopPropagation();const a=e(this),n=a.data("delivery_no"),s=a.data("order_id"),r=a.text();n&&s?(a.prop("disabled",!0).text(hezarfen_mst_backend.loading_text),function(t,a,n){const s=e("#hepsijet-barcode-modal"),r=e("#barcode-pdf-frame");console.log("Opening barcode modal for:",{deliveryNo:t,orderId:a}),s.data("current-delivery-no",t),s.data("current-order-id",a),s.removeClass("hidden"),setTimeout((()=>{s.find(".hez-modal-content").removeClass("scale-95 opacity-0").addClass("scale-100 opacity-100")}),10),r.parent().html(`<p class="text-sm text-gray-600">${hezarfen_mst_backend.preparing_barcode_text}</p>`);const i={action:hezarfen_mst_backend.get_hepsijet_barcode_pdf_action,_wpnonce:hezarfen_mst_backend.get_hepsijet_barcode_pdf_nonce,delivery_no:t,order_id:a};e.post(ajaxurl,i,(function(t){console.log("AJAX Response received:",t),console.log("Response success:",t.success),console.log("Response data:",t.data),t.success?(s.data("pdf-url",t.data.pdf_url),async function(t,a){const n=e("#hepsijet-barcode-modal"),s=n.data("pdf-url");if(console.log("displayBarcodeImage called with:",{barcodeData:t,pdfData:s}),console.log("Modal data:",n.data()),s){console.log("PDF data found, embedding PDF viewer...");const n=e("#hepsijet-barcode-content");console.log("Targeting container by ID:",n),n.html('\n        <div class="w-full h-96 flex flex-col justify-center items-center">\n          <div class="text-sm text-gray-600 mb-4">PDF hazırlanıyor...</div>\n          <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>\n        </div>\n      ');try{console.log("PDF data ready, embedding PDF viewer"),n.html(`\n          <div class="w-full h-5/6 flex justify-center">\n            <iframe \n              id="pdf-viewer" \n              src="${s}" \n              style="width: 100%; height: 100%; border: 1px solid #ddd; border-radius: 4px;" \n              frameborder="0"\n              title="Hepsijet Shipment Label PDF">\n            </iframe>\n          </div>\n        `),console.log("PDF embedded successfully using base64 data")}catch(e){console.error("PDF display failed:",e),o(t,a)}}else console.log("No PDF data found, falling back to barcode image"),o(t,a)}(t.data.barcode_data,r).catch((e=>{console.error("Error displaying barcode/PDF:",e),r.parent().html('<div class="bg-red-50 border border-red-200 rounded p-3"><p class="text-sm text-red-600"><strong>Error:</strong> '+e.message+"</p></div>")})),console.log("Combined request successful:",t.data),console.log("PDF data stored (base64):",t.data.pdf_url?"Yes":"No")):(console.error("AJAX Response error:",t.data),r.parent().html('<div class="bg-red-50 border border-red-200 rounded p-3"><p class="text-sm text-red-600"><strong>Error:</strong> '+(t.data||"Unknown error")+"</p></div>")),n&&n()})).fail((function(e){console.error("AJAX Request failed:",e),console.error("Status:",e.status),console.error("Response Text:",e.responseText);const t=e.responseJSON&&e.responseJSON.data?e.responseJSON.data:"Connection error occurred";r.parent().html('<div class="bg-red-50 border border-red-200 rounded p-3"><p class="text-sm text-red-600"><strong>Connection Error:</strong> '+t+"</p></div>"),n&&n()}))}(n,s,(function(){a.prop("disabled",!1).text(r)}))):alert("Missing delivery number or order ID")})),e(document).off("click",".cancel-hepsijet-shipment").on("click",".cancel-hepsijet-shipment",(function(t){if(t.preventDefault(),t.stopPropagation(),!confirm("Gönderi iptal edilecektir, onaylıyor musunuz?"))return;const a=e(this),n=a.data("delivery_no"),o=a.text();a.prop("disabled",!0).text(hezarfen_mst_backend.cancelling_shipment_text);const s=a.data("order_id");if(!n||!s)return alert("Missing required data for cancellation"),void a.prop("disabled",!1).text(o);const r={action:hezarfen_mst_backend.cancel_hepsijet_shipment_action,_wpnonce:hezarfen_mst_backend.cancel_hepsijet_shipment_nonce,delivery_no:n,order_id:s};console.log("Cancel request data:",r),e.post(ajaxurl,r,(function(e){if(e.success)!function(e){const t=e.closest("tr");t.removeClass("bg-white").addClass("bg-gray-100 opacity-60");const a=t.find("th:first");a.addClass("text-gray-500 line-through"),a.append('<span class="ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">Cancelled</span>');const n=t.find("td:first"),o=(new Date).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=n.text().includes("Koli:")?n.text().split("Koli: ")[1].split(" ")[0]:"N/A",r=n.text().includes("Desi:")?n.text().split("Desi: ")[1].trim():"N/A";n.html(`\n      <div class="text-xs text-gray-500">\n        <div class="line-through">Koli: ${s}</div>\n        <div class="line-through">Desi: ${r}</div>\n        <div class="text-red-600 font-medium mt-1">Cancelled: ${o}</div>\n      </div>\n    `);const i=t.find("td:last"),d=e.data("delivery_no"),l=e.data("order_id");i.html(`\n      <div class="flex gap-1 flex-wrap">\n        <span class="px-2 py-1 bg-gray-300 text-gray-600 rounded text-xs cursor-not-allowed" title="Barcode not available for cancelled shipments">Barcode</span>\n        <button type="button" data-delivery_no="${d}" data-order_id="${l}" class="check-hepsijet-details cursor-pointer focus:outline-none hover:opacity-80 bg-blue-600 text-white px-2 py-1 rounded text-xs" title="Check tracking details">Details</button>\n        <span class="px-2 py-1 bg-gray-300 text-gray-600 rounded text-xs cursor-not-allowed">Cancelled</span>\n      </div>\n    `)}(a),alert("Gönderi başarıyla iptal edildi");else{const t=e.data||"Bilinmeyen hata";alert("Hata: "+t)}})).fail((function(e,t,a){let n="Bağlantı hatası";try{const t=JSON.parse(e.responseText);t.data&&(n=t.data)}catch(t){e.statusText&&(n=e.statusText)}alert("Hata: "+n)})).always((function(){a.prop("disabled",!1).text(o)}))})),e(document).on("click","#check-kargogate-balance",(function(t){t.preventDefault();const a=e(this),n=a.text();a.prop("disabled",!0).text(hezarfen_mst_backend.checking_balance_text),function(){const t=e("#kargogate-balance");t.text(hezarfen_mst_backend.loading_text);const a={action:hezarfen_mst_backend.get_kargogate_balance_action,_wpnonce:hezarfen_mst_backend.get_kargogate_balance_nonce};return e.post(ajaxurl,a,(function(e){e.success&&e.data.balance&&e.data.balance.formatted?t.html(e.data.balance.formatted):(t.text(hezarfen_mst_backend.error_loading_balance),console.error("Balance error:",e.data))})).fail((function(e,a,n){t.text(hezarfen_mst_backend.connection_error),console.error("Balance AJAX error:",n)}))}().always((function(){a.prop("disabled",!1).text(n)}))})),e(document).on("click",".hez-details-modal-close",(function(){a()})),e(document).on("click","#hepsijet-details-modal",(function(e){e.target===this&&a()})),e(document).on("keydown",(function(t){"Escape"===t.key&&(e("#hepsijet-details-modal").hasClass("hidden")||a(),e("#hepsijet-barcode-modal").hasClass("hidden")||n())})),e(document).on("click",".hez-barcode-modal-close",(function(){n()})),e(document).on("click","#hepsijet-barcode-modal",(function(e){e.target===this&&n()})),s();var r=setInterval(s,1e3);const i=e(".hezarfen_billing_invoice_type_field");function d(t){"person"==t?(e("._billing_hez_TC_number_field").removeClass("hezarfen-hide-form-field"),e("._billing_hez_tax_number_field").addClass("hezarfen-hide-form-field"),e("._billing_hez_tax_office_field").addClass("hezarfen-hide-form-field")):"company"==t&&(e("._billing_hez_TC_number_field").addClass("hezarfen-hide-form-field"),e("._billing_hez_tax_number_field").removeClass("hezarfen-hide-form-field"),e("._billing_hez_tax_office_field").removeClass("hezarfen-hide-form-field"))}e("a.edit_address").on("click",(function(){e(".hezarfen-tc-num-field").hide()})),d(i.val()),i.on("change",(function(){d(e(this).val())}))}))}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,a,o,s)=>{if(!a){var r=1/0;for(c=0;c<e.length;c++){for(var[a,o,s]=e[c],i=!0,d=0;d<a.length;d++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](a[d])))?a.splice(d--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,o,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0,85:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,s,[r,i,d]=a,l=0;if(r.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(d)var c=d(n)}for(t&&t(a);l<r.length;l++)s=r[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=globalThis.webpackChunkhezarfen_for_woocommerce=globalThis.webpackChunkhezarfen_for_woocommerce||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=n.O(void 0,[85],(()=>n(389)));o=n.O(o)})();